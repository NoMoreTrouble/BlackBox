# MODE: SIMULATION or PRODUCTION
MODE=SIMULATION

# Flask / Server
FLASK_SECRET_KEY=change-this-secret
FLASK_HOST=0.0.0.0
FLASK_PORT=8080
FLASK_DEBUG=0

# Database
DATABASE_URL=sqlite:///var/plant_monitor.sqlite3

# Auth
ADMIN_USERNAME=admin
ADMIN_PASSWORD=changeme

# Localization (default)
BABEL_DEFAULT_LOCALE=en
BABEL_SUPPORTED_LOCALES=en,it
BABEL_DEFAULT_TIMEZONE=Europe/Rome

# Sensors - DHT22
DHT22_PIN=4

# Soil probes
ADC_DRIVER=ADS1115   # ADS1115 or MCP3008
# ADS1115 I2C
ADS1115_ADDRESS=0x48
# MCP3008 SPI
MCP3008_CHANNELS=0,1,2
MCP3008_SPI_BUS=0
MCP3008_SPI_DEVICE=0

# Soil calibration (raw -> %)
SOIL_WET_CAL=18000   # raw value when fully wet (ADS1115 counts) or low voltage
SOIL_DRY_CAL=28000   # raw value when dry (higher counts)
# For MCP3008 (0-1023), set appropriately (e.g., WET=250, DRY=800)

# Water level (HC-SR04)
HCSR04_TRIG_PIN=23
HCSR04_ECHO_PIN=24
TANK_HEIGHT_CM=30
TANK_EMPTY_DISTANCE_CM=32 # measured distance when tank empty

# Actuators (relays)
RELAY_LIGHT_PIN=17
RELAY_IRRIGATION_PIN=27
RELAY_ACTIVE_LOW=1

# Control
AUTO_WATER_THRESHOLD=35          # % average soil moisture below this -> water
IRRIGATION_PULSE_SECONDS=10
SAMPLE_INTERVAL_SECONDS=20
EWMA_ALPHA=0.3

# Update / Webhook
UPDATE_WEBHOOK_TOKEN=supersecrettoken
ENABLE_DOCKER_REBUILD=0
DOCKER_COMPOSE_FILE_PATH=./docker-compose.yml

# Telegram
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# Docker detection
IN_DOCKER=0
